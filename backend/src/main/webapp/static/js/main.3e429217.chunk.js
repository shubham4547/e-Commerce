(this["webpackJsonpecommerce-frontend"]=this["webpackJsonpecommerce-frontend"]||[]).push([[0],{106:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),r=c(20),l=c.n(r),n=(c(48),c(49),c(9)),o=c(0);var i=function(){var e=Object(n.c)((function(e){return e}));return console.log("Header ",e.loggedin.Username),Object(o.jsxs)("div",{className:"jumbotron px-2 py-0 mb-0 bg-white rounded-0",children:[Object(o.jsx)("img",{src:"assets/logo.png",style:{width:"70px",height:"70px"},className:"float-left"}),e.loggedin.IsLoggedIn?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("h5",{className:"float-right mt-3",children:["Welcome ! ",e.loggedin.Username]})," "]}):"",Object(o.jsx)("h4",{className:"text-center pt-3",children:"Welcome to Book Store"}),Object(o.jsx)("div",{className:"clearfix"})]})},d=c(4),j=c(7);var m=function(){return Object(o.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/alogin",children:"Admin Login"})}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/clogin",children:"Customer Login"})}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/register",children:"Register"})})]})},b=function(e){var t=e.isLoggedIn,c=function(e){r({type:"LogOut"}),sessionStorage.clear(),a.push("/")},s=Object(n.c)((function(e){return e})),a=Object(j.f)(),r=Object(n.b)();return console.log(sessionStorage.getItem("role"),t),t?"customer"===sessionStorage.getItem("role")?Object(o.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsxs)(d.b,{className:"nav-link",to:"/cart",children:["View Cart ",0===s.cart.length?"":Object(o.jsx)("span",{className:"badge badge-primary p-2",children:s.cart.map((function(e){return e.qty})).reduce((function(e,t){return parseInt(e)+parseInt(t)}))})]})}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/cprofile",children:"Profile"})}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/myorders",children:"My Orders"})}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",onClick:c,to:"#",children:"Logout"})})]}):Object(o.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/aprofile",children:"Profile"})}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/add-product",children:"Add Book"})}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/myproducts",children:"Books"})}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/customers",children:"Customers"})}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/orders",children:"Orders"})}),Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",onClick:c,to:"#",children:"Logout"})})]}):Object(o.jsx)(m,{})},h=c(1).Fragment;var O=function(){var e=Object(n.c)((function(e){return e}));return console.log("LoggedIn ",e.loggedin),console.log("Cart ",e.cart),Object(o.jsxs)(h,{children:[Object(o.jsx)("div",{className:"clearfix"}),Object(o.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-success position-sticky",style:{top:0,zIndex:"1000"},children:[Object(o.jsx)(d.b,{className:"navbar-brand",to:"#",children:"E-Shop"}),Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:[Object(o.jsxs)("ul",{className:"navbar-nav",children:[Object(o.jsx)("li",{className:"nav-item active",children:Object(o.jsx)(d.b,{className:"nav-link",to:"/",children:"Home"})}),Object(o.jsxs)("li",{className:"nav-item dropdown",children:[Object(o.jsx)(d.b,{className:"nav-link dropdown-toggle",to:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Cateories"}),Object(o.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(o.jsx)(d.b,{className:"dropdown-item",to:"/cats?cat=Science",children:"Science"}),Object(o.jsx)(d.b,{className:"dropdown-item",to:"/cats?cat=Fiction",children:"Fiction"}),Object(o.jsx)(d.b,{className:"dropdown-item",to:"/cats?cat=Romantic",children:"Romantic"}),Object(o.jsx)(d.b,{className:"dropdown-item",to:"/cats?cat=Poetry",children:"Poetry"}),Object(o.jsx)(d.b,{className:"dropdown-item",to:"/cats?cat=Technical",children:"Technical"})]})]})]}),Object(o.jsx)(b,{isLoggedIn:e.loggedin.IsLoggedIn})]})]})]})},u=c(8),x=c(3),p=c(2),g=c(5),f=c.n(g),N=function(e){var t={};return e.name||(t.name="Name is required"),e.city||(t.city="City is required"),e.userid||(t.userid="User id is required"),e.phone||(t.phone="Phone no is required"),e.pwd||(t.pwd="Password is required"),e.cpwd||(t.cpwd="Confirm password is required"),e.pwd&&e.cpwd&&e.pwd!==e.cpwd&&(t.cpwd="Password not match"),t};var v=function(){var e=Object(s.useState)({name:"",city:"",userid:"",pwd:"",cpwd:"",phone:"",gender:""}),t=Object(p.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)({}),l=Object(p.a)(r,2),n=l[0],i=l[1],d=Object(j.f)(),m=Object(s.useState)(!1),b=Object(p.a)(m,2),h=b[0],O=b[1],g=function(e){a(Object(x.a)(Object(x.a)({},c),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){c.gender||(n.gender="Gender is required"),console.log(n),0===Object.keys(n).length&&h&&(console.log(c),f.a.post("/api/customers",c).then((function(e){console.log(e),alert("Customer registered successfully"),d.push("/clogin")})).catch((function(e){return console.log("Error",e)})))}),[n]),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"card shadow mt-3",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-sm-6 mx-auto",children:[Object(o.jsx)("h4",{className:"text-center p-2",children:"Customer Registration Form"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(N(c)),c.gender||(n.gender="Gender is required"),O(!0)},children:[Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Customer Name"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"text",name:"name",value:c.name,onChange:g,className:"form-control"}),n.name&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.name})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"City"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"text",name:"city",value:c.city,onChange:g,className:"form-control"}),n.city&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.city})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Gender"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsxs)("select",{name:"gender",value:c.gender,onChange:g,className:"form-control",children:[Object(o.jsx)("option",{value:"",children:"Select Gender"}),Object(o.jsx)("option",{children:"Male"}),Object(o.jsx)("option",{children:"Female"})]}),n.gender&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.gender})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"User Id"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"text",name:"userid",value:c.userid,onChange:g,className:"form-control"}),n.userid&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.userid})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Phone"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"text",maxLength:"10",name:"phone",value:c.phone,onChange:g,className:"form-control"}),n.phone&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.phone})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Password"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"password",name:"pwd",value:c.pwd,onChange:g,className:"form-control"}),n.pwd&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.pwd})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Confirm Password"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"password",name:"cpwd",value:c.cpwd,onChange:g,className:"form-control"}),n.cpwd&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.cpwd})]})]}),Object(o.jsx)("button",{className:"btn btn-primary float-right",children:"Register Now"})]})]})})})})})},y=function(e){var t={};return e.userid||(t.userid="User id is required"),e.pwd||(t.pwd="Password is required"),t};var w=function(){var e=Object(n.b)(),t=Object(s.useState)({userid:"",pwd:""}),c=Object(p.a)(t,2),a=c[0],r=c[1],l=Object(s.useState)(!1),i=Object(p.a)(l,2),d=i[0],m=i[1],b=Object(s.useState)({}),h=Object(p.a)(b,2),O=h[0],g=h[1],N=Object(s.useState)(),v=Object(p.a)(N,2),w=v[0],S=v[1],C=Object(j.f)(),k=function(e){r(Object(x.a)(Object(x.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){console.log(O),0===Object.keys(O).length&&d&&(console.log(a),f.a.post("/api/admin/validate",a).then((function(t){var c=t.data.data;console.log(t.data.data),sessionStorage.setItem("userid",c.userid),sessionStorage.setItem("uname",c.uname),sessionStorage.setItem("role","admin"),e({type:"IsLoggedIn"}),C.push("/aprofile")})).catch((function(e){console.log("Error",e),S("Invalid username or password..!!")})))}),[O]),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"card shadow mt-3",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-sm-6 mx-auto",children:[Object(o.jsx)("h4",{className:"text-center p-2",children:"Admin Login Form"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(y(a)),m(!0)},children:[Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"User Id"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"text",name:"userid",value:a.userid,onChange:k,className:"form-control"}),O.userid&&Object(o.jsx)("small",{className:"text-danger float-right",children:O.userid})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Password"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"password",name:"pwd",value:a.pwd,onChange:k,className:"form-control"}),O.pwd&&Object(o.jsx)("small",{className:"text-danger float-right",children:O.pwd})]})]}),Object(o.jsx)("button",{className:"btn btn-primary float-right",children:"Login Now"})]}),Object(o.jsx)("div",{className:"clearfix"}),w&&Object(o.jsx)("p",{className:"alert alert-danger mt-4 text-center font-weight-bold",children:w})]})})})})})};var S=function(){var e=sessionStorage.getItem("userid"),t=sessionStorage.getItem("uname"),c=Object(s.useState)({uname:t,userid:e,pwd:""}),a=Object(p.a)(c,2),r=a[0],l=a[1],n=function(e){l(Object(x.a)(Object(x.a)({},r),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("h4",{className:"p-2 text-white text-center",children:["Welcome ",r.uname]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-sm-6 mx-auto",children:Object(o.jsx)("div",{className:"card shadow",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f.a.post("/api/admin",r).then((function(e){console.log(e),alert("Profile updated successfully"),sessionStorage.setItem("uname",r.uname)})).catch((function(e){return console.log("Error",e)}))},children:[Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"User ID"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",name:"userid",readOnly:!0,value:r.userid,onChange:n,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"User Name"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",name:"uname",value:r.uname,onChange:n,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Password"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"password",name:"pwd",value:r.pwd,onChange:n,className:"form-control"})})]}),Object(o.jsx)("button",{className:"btn btn-primary float-right",children:"Update Profile"})]})})})})})]})};var C=function(){var e=Object(s.useState)([]),t=Object(p.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){f.a.get("/api/customers").then((function(e){a(e.data.data),console.log(c)}))}),[]),Object(o.jsxs)("div",{className:"container-fluid",children:[Object(o.jsx)("h4",{className:"text-white p-2 text-center",children:"All Customers"}),Object(o.jsxs)("table",{className:"table table-bordered table-light table-striped table-hover",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"City"}),Object(o.jsx)("th",{children:"Gender"}),Object(o.jsx)("th",{children:"Phone"}),Object(o.jsx)("th",{children:"User Id"}),Object(o.jsx)("th",{children:"Password"})]})}),Object(o.jsx)("tbody",{children:c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.city}),Object(o.jsx)("td",{children:e.gender}),Object(o.jsx)("td",{children:e.phone}),Object(o.jsx)("td",{children:e.userid}),Object(o.jsx)("td",{children:e.pwd})]},e.id)}))})]})]})};var k=function(){var e=Object(n.b)(),t=Object(s.useState)({userid:"",pwd:""}),c=Object(p.a)(t,2),a=c[0],r=c[1],l=Object(s.useState)({}),i=Object(p.a)(l,2),d=i[0],m=i[1],b=Object(s.useState)(!1),h=Object(p.a)(b,2),O=h[0],g=h[1],N=Object(j.f)(),v=function(e){r(Object(x.a)(Object(x.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){console.log(d),0===Object.keys(d).length&&O&&(console.log(a),f.a.post("/api/customers/validate",a).then((function(t){var c=t.data.data;console.log(t.data.data),sessionStorage.setItem("userid",c.userid),sessionStorage.setItem("uname",c.name),sessionStorage.setItem("role","customer"),sessionStorage.setItem("id",c.id),e({type:"IsLoggedIn"}),N.push("/")})).catch((function(e){console.log("Error",e),alert("Invalid username or password")})))}),[d]),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"card shadow mt-3",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-sm-6 mx-auto",children:[Object(o.jsx)("h4",{className:"text-center p-2",children:"Customer Login Form"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(y(a)),g(!0)},children:[Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"User Id"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"text",name:"userid",value:a.userid,onChange:v,className:"form-control"}),d.userid&&Object(o.jsx)("small",{className:"text-danger float-right",children:d.userid})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Password"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"password",name:"pwd",value:a.pwd,onChange:v,className:"form-control"}),d.pwd&&Object(o.jsx)("small",{className:"text-danger float-right",children:d.pwd})]})]}),Object(o.jsx)("button",{className:"btn btn-primary float-right",children:"Login Now"})]})]})})})})})},I=function(e){var t={};return e.bname||(t.pname="Product Name is required"),e.price||(t.price="Price is required"),e.cat||(t.cat="Category is required"),e.author||(t.author="Author is required"),t};var P=function(){var e=Object(s.useState)({bname:"",cat:"",price:"",author:"",qty:1}),t=Object(p.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)({}),l=Object(p.a)(r,2),n=l[0],i=l[1],d=Object(s.useState)(null),m=Object(p.a)(d,2),b=m[0],h=m[1],O=Object(s.useState)(null),g=Object(p.a)(O,2),N=g[0],v=g[1],y=Object(s.useState)(!1),w=Object(p.a)(y,2),S=w[0],C=w[1],k=Object(j.f)(),P=function(e){a(Object(x.a)(Object(x.a)({},c),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){if(console.log(n),0===Object.keys(n).length&&S){var e=new FormData;e.append("pic",b),e.append("bname",c.bname),e.append("cat",c.cat),e.append("price",c.price),e.append("author",c.author),e.append("qty",c.qty),console.log(c),f.a.post("/api/books",e).then((function(e){var t=e.data.data;console.log(t),alert("Book saved successfully"),k.push("/myproducts")})).catch((function(e){console.log("Error",e),alert("Error saving product")}))}}),[n]),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"card shadow bg-success text-white mt-3",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{class:"col-sm-4 pt-4",children:b?Object(o.jsx)("img",{className:"img-thumbnail",src:N,alt:"Photo"}):""}),Object(o.jsxs)("div",{className:"col-sm-6",children:[Object(o.jsx)("h4",{className:"text-center p-2",children:"Add Book Form"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(I(c)),C(!0)},children:[Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Book Name"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"text",name:"bname",value:c.bname,onChange:P,className:"form-control"}),n.bname&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.bname})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Category"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsxs)("select",{name:"cat",value:c.cat,onChange:P,className:"form-control",children:[Object(o.jsx)("option",{value:"",children:"Select Category"}),Object(o.jsx)("option",{children:"Science"}),Object(o.jsx)("option",{children:"Fiction"}),Object(o.jsx)("option",{children:"Romantic"}),Object(o.jsx)("option",{children:"Poetry"}),Object(o.jsx)("option",{children:"Technical"})]}),n.cat&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.cat})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Price"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"number",name:"price",value:c.price,onChange:P,className:"form-control"}),n.price&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.price})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Quantity"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"number",name:"qty",value:c.qty,onChange:P,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Author"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"text",name:"author",value:c.author,onChange:P,className:"form-control"}),n.author&&Object(o.jsx)("small",{className:"text-danger float-right",children:n.author})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Photo"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"file",required:!0,name:"photo",value:c.photo,onChange:function(e){h(e.target.files[0]),v(URL.createObjectURL(e.target.files[0]))},className:"form-control-file"})})]}),Object(o.jsx)("button",{className:"btn btn-primary float-right",children:"Save Book"})]})]})]})})})})};var q=function(){var e=Object(s.useState)([]),t=Object(p.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){f.a.get("/api/books").then((function(e){console.log(e.data),a(e.data.data),console.log(c)}))}),[]),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"card shadow",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h4",{className:"text-center",children:"My Products"}),Object(o.jsxs)("table",{className:"table table-bordered",children:[Object(o.jsx)("thead",{className:"table-light",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"Category"}),Object(o.jsx)("th",{children:"Author"}),Object(o.jsx)("th",{children:"Price"}),Object(o.jsx)("th",{children:"Quantity"}),Object(o.jsx)("th",{children:"Action"})]})}),Object(o.jsx)("tbody",{children:c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsxs)("td",{children:[Object(o.jsx)("img",{width:"100",src:"/"+e.photo,className:"img-thumnail"}),e.bname]}),Object(o.jsx)("td",{children:e.cat}),Object(o.jsx)("td",{children:e.author}),Object(o.jsx)("td",{children:e.price}),Object(o.jsx)("td",{children:e.qty}),Object(o.jsxs)("td",{children:[Object(o.jsx)(d.b,{to:"/edit/"+e.bookid,className:"btn btn-primary btn-sm mr-2",children:"Edit"}),Object(o.jsx)("button",{onClick:function(){return t=e.bookid,void(window.confirm("Are you sure to delete this book ?")&&f.a.delete("/api/books/"+t).then((function(e){alert("Product deleted successfully"),f.a.get("/api/books").then((function(e){console.log(e.data),a(e.data.data),console.log(c)}))})));var t},className:"btn btn-danger btn-sm",children:"Delete"})]})]},e.prodid)}))})]})]})})})};var A=function(e){var t=e.x,c=e.showModal;return Object(o.jsx)("div",{className:"col-sm-3",children:Object(o.jsxs)("div",{className:"card text-center mb-3 bg-white",style:{boxShadow:"0 0 3px 3px white"},children:[Object(o.jsx)("div",{className:"card-header p-2 border-bottom border-white",children:Object(o.jsx)("h5",{children:t.bname})}),Object(o.jsxs)("div",{className:"card-body py-1",children:[Object(o.jsx)("img",{style:{width:"90%",height:"250px",marginBottom:"10px"},src:"/"+t.photo,className:"img-thumnail"}),Object(o.jsxs)("h6",{className:"float-left",children:["Author: ",t.author]}),Object(o.jsxs)("h6",{className:"float-right",children:["Price: \u20b9 ",t.price]})]}),Object(o.jsx)("div",{className:"card-footer p-1",children:Object(o.jsx)("button",{onClick:function(e){return c(t)},className:"btn btn-primary btn-sm",children:"Buy Now"})})]})},t.prodid)},D=c(41),L=c.n(D),E=(c(87),c(88),c(42)),F=c.n(E);var B=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(F.a,Object(x.a)(Object(x.a)({},{dots:!0,infinite:!0,speed:2500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,cssEase:"linear"}),{},{children:[Object(o.jsx)("div",{className:"wdt",children:Object(o.jsx)("img",{className:"img",alt:"pic1",src:"assets/header1.jpg"})}),Object(o.jsx)("div",{className:"wdt",children:Object(o.jsx)("img",{className:"img",alt:"pic1",src:"assets/header2.jpg"})}),Object(o.jsx)("div",{className:"wdt",children:Object(o.jsx)("img",{className:"img",alt:"pic1",src:"assets/header3.jpg"})}),Object(o.jsx)("div",{className:"wdt",children:Object(o.jsx)("img",{className:"img",alt:"pic1",src:"assets/header4.jpg"})}),Object(o.jsx)("div",{className:"wdt",children:Object(o.jsx)("img",{className:"img",alt:"pic1",src:"assets/header5.jpg"})})]}))})};var U=function(){var e=Object(s.useState)([]),t=Object(p.a)(e,2),c=t[0],a=t[1],r=Object(n.c)((function(e){return e})),l=Object(j.g)(),i=Object(s.useState)({}),d=Object(p.a)(i,2),m=d[0],b=d[1],h=Object(s.useState)(1),O=Object(p.a)(h,2),u=O[0],x=O[1],g=Object(n.b)(),N=Object(j.f)(),v=Object(s.useState)("modal fade"),y=Object(p.a)(v,2),w=y[0],S=y[1],C=Object(s.useState)("none"),k=Object(p.a)(C,2),I=k[0],P=k[1],q=function(e){S("modal fade show"),P("block"),b(e)};Object(s.useEffect)((function(){var e=L.a.parse(l.search);console.log(e.cat),void 0!==e.cat?f.a.get("/api/books/cats?cat="+e.cat).then((function(e){console.log(e.data),a(e.data.data),console.log(c)})):f.a.get("/api/books/available").then((function(e){console.log(e.data.data.total),a(e.data.data),console.log(c)}))}),[l]);var D=function(e){var t;null==sessionStorage.getItem("userid")?(alert("Please login first to buy product"),N.push("/clogin")):"customer"!==sessionStorage.getItem("role")?alert("Only customer can buy product"):(t=e.bookid,r.cart.findIndex((function(e){return e.prodid===t}))<0?(q(),P("none"),S("modal fade"),e.qty=u,g({type:"AddItem",payload:e}),alert("Item added to cart successfully")):alert("Item already in cart"))};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"container-fluid p-2",children:Object(o.jsx)(B,{})}),Object(o.jsxs)("div",{className:"container-fluid",style:{width:"92%"},children:[Object(o.jsx)("div",{className:"card shadow bg-transparent",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsx)("div",{className:"row",children:c.map((function(e){return Object(o.jsx)(A,{x:e,showModal:q},e.bookid)}))})})}),"block"==I?Object(o.jsx)("div",{className:w,style:{zIndex:"1000",display:I},children:Object(o.jsx)("div",{className:"model-lg modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("h5",{children:"Add to Cart"}),Object(o.jsx)("button",{onClick:function(){S("modal fade"),P("none")},className:"close",children:"\xd7"})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsxs)("div",{className:"d-flex",children:[Object(o.jsx)("img",{src:"/"+m.photo,style:{width:"200px"}}),Object(o.jsxs)("div",{className:"ml-3",children:[Object(o.jsx)("h4",{className:"pb-2 text-success",children:m.bname}),Object(o.jsxs)("p",{className:"font-weight-bold",children:["Author: ",m.author]}),Object(o.jsxs)("p",{className:"font-weight-bold",children:["Category: ",m.cat]}),Object(o.jsxs)("p",{className:"font-weight-bold",children:["Available Quantity: ",m.qty]}),Object(o.jsxs)("p",{className:"font-weight-bold",children:["Price: \u20b9 ",m.price]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-5 col-form-label font-weight-bold",children:"Quantity"}),Object(o.jsx)("div",{className:"col-sm-7",children:Object(o.jsx)("input",{type:"number",className:"form-control",max:m.qty,value:u,onChange:function(e){return x(e.target.value)}})})]})]})]})}),Object(o.jsx)("div",{className:"modal-footer",children:Object(o.jsx)("button",{onClick:function(e){return D(m)},className:"btn btn-success btn-sm",children:"Add to Cart"})})]})})}):""]})]})};var M=function(){console.log("Edit product page"),sessionStorage.getItem("id");var e=Object(j.h)().prodid,t=Object(s.useState)({bookid:e,bname:"",cat:"",qty:"",price:"",author:""}),c=Object(p.a)(t,2),a=c[0],r=c[1],l=Object(s.useState)({}),n=Object(p.a)(l,2),i=n[0],d=n[1],m=Object(s.useState)(!1),b=Object(p.a)(m,2),h=b[0],O=b[1],g=Object(j.f)(),N=function(e){r(Object(x.a)(Object(x.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){console.log(i),f.a.get("/api/books/"+e).then((function(e){console.log(e.data.data),r(e.data.data)})),0===Object.keys(i).length&&h&&(console.log(a),f.a.put("/api/books/"+e,a).then((function(e){var t=e.data.data;console.log(t),alert("Product saved successfully"),g.push("/myproducts")})).catch((function(e){console.log("Error",e),alert("Error saving product")})))}),[i]),Object(o.jsx)("div",{className:"container pt-3 card mt-3",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-sm-4",children:Object(o.jsx)("img",{className:"img-thumbnail mt-3",src:"/"+a.photo})}),Object(o.jsxs)("div",{className:"col-sm-6 offset-1 p-4",children:[Object(o.jsxs)("h4",{className:"text-center p-2",children:["Edit Book (Book Id : ",a.bookid,")"]}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(I(a)),O(!0)},children:[Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Product Name"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"text",name:"bname",value:a.bname,onChange:N,className:"form-control"}),i.bname&&Object(o.jsx)("small",{className:"text-danger float-right",children:i.bname})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Category"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsxs)("select",{name:"pcat",value:a.cat,onChange:N,className:"form-control",children:[Object(o.jsx)("option",{value:"",children:"Select Category"}),Object(o.jsx)("option",{children:"Science"}),Object(o.jsx)("option",{children:"Fiction"}),Object(o.jsx)("option",{children:"Romantic"}),Object(o.jsx)("option",{children:"Poetry"}),Object(o.jsx)("option",{children:"Technical"})]}),i.cat&&Object(o.jsx)("small",{className:"text-danger float-right",children:i.cat})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Price"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"number",name:"price",value:a.price,onChange:N,className:"form-control"}),i.price&&Object(o.jsx)("small",{className:"text-danger float-right",children:i.price})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Quantity"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"number",name:"qty",value:a.qty,onChange:N,className:"form-control"}),i.qty&&Object(o.jsx)("small",{className:"text-danger float-right",children:i.qty})]})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Author"}),Object(o.jsxs)("div",{className:"col-sm-8",children:[Object(o.jsx)("input",{type:"text",name:"author",value:a.author,onChange:N,className:"form-control"}),i.author&&Object(o.jsx)("small",{className:"text-danger float-right",children:i.author})]})]}),Object(o.jsx)("button",{className:"btn btn-primary float-right",children:"Update Book"})]})]})]})})};var R=function(){var e=Object(s.useState)(sessionStorage.getItem("uname")),t=Object(p.a)(e,2),c=t[0],a=t[1],r=(sessionStorage.getItem("userid"),sessionStorage.getItem("id")),l=Object(s.useState)({id:sessionStorage.getItem("id"),name:"",city:"",userid:"",pwd:"",phone:"",gender:""}),n=Object(p.a)(l,2),i=n[0],d=n[1];Object(s.useEffect)((function(){f.a.get("/api/customers/"+r).then((function(e){console.log(e.data.data),d(e.data.data)}))}),[]);var j=function(e){d(Object(x.a)(Object(x.a)({},i),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-sm-6 mx-auto",children:Object(o.jsx)("div",{className:"card shadow mt-3",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("h4",{className:"p-2 text-center",children:["Welcome ",c]}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f.a.put("/api/customers/"+r,i).then((function(e){alert("Profile updated successfully"),a(i.name)}))},children:[Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Customer Name"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",name:"name",value:i.name,onChange:j,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"City"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",name:"city",value:i.city,onChange:j,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Gender"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsxs)("select",{required:!0,name:"gender",value:i.gender,onChange:j,className:"form-control",children:[Object(o.jsx)("option",{value:"",children:"Select Gender"}),Object(o.jsx)("option",{children:"Male"}),Object(o.jsx)("option",{children:"Female"})]})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"User Id"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",readOnly:!0,name:"userid",value:i.userid,onChange:j,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Phone"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",maxLength:"10",name:"phone",value:i.phone,onChange:j,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Password"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"password",name:"pwd",value:i.pwd,onChange:j,className:"form-control"})})]}),Object(o.jsx)("button",{className:"btn btn-primary float-right",children:"Update Profile"})]})]})})})})})},T=c(23),Q=c.n(T);var Y=function(){var e=Object(s.useState)([]),t=Object(p.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(!1),l=Object(p.a)(r,2),n=l[0],i=l[1],d=Object(s.useState)([]),j=Object(p.a)(d,2),m=j[0],b=j[1];return Object(s.useEffect)((function(){f.a.get("/api/orders?custid="+sessionStorage.getItem("id")).then((function(e){console.log(e.data),a(e.data.data)}))}),[]),Object(o.jsx)("div",{className:"container-fluid text-white",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-sm-7",children:[Object(o.jsx)("h4",{className:"p-2",children:"My Purchased Orders"}),Object(o.jsxs)("table",{className:"table table-bordered table-sm table-light table-striped",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Id"}),Object(o.jsx)("th",{children:"Order Date"}),Object(o.jsx)("th",{children:"Amount"}),Object(o.jsx)("th",{children:"Action"})]})}),Object(o.jsx)("tbody",{children:c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.orderid}),Object(o.jsx)("td",{children:Object(o.jsx)(Q.a,{format:"ddd, DD-MMM-YYYY",children:e.orderDate})}),Object(o.jsxs)("td",{children:["\u20b9 ",e.payment.amount]}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:function(t){return c=e.orderid,f.a.get("/api/orders/"+c).then((function(e){console.log(e.data),b(e.data.data.details)})),void i(!0);var c},className:"btn btn-primary btn-sm",children:"Show Details"})})]},e.orderid)}))})]})]}),Object(o.jsx)("div",{className:"col-sm-5",children:n?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h4",{className:"p-2",children:"Order Details"}),Object(o.jsxs)("table",{className:"table table-bordered table-sm table-light table-striped",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Id"}),Object(o.jsx)("th",{children:"Book"}),Object(o.jsx)("th",{children:"Price"}),Object(o.jsx)("th",{children:"Qty"})]})}),Object(o.jsx)("tbody",{children:m.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.book.bookid}),Object(o.jsxs)("td",{children:[Object(o.jsx)("img",{className:"mr-2 float-left",src:"/"+e.book.photo,width:"100"}),e.book.bname,Object(o.jsx)("br",{}),"Category: ",e.book.cat,Object(o.jsx)("br",{}),"Author: ",e.book.author,Object(o.jsx)("br",{})]}),Object(o.jsx)("td",{children:e.book.price}),Object(o.jsx)("td",{children:e.qty})]})}))})]})]}):""})]})})};var G=function(){var e=Object(s.useState)([]),t=Object(p.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(!1),l=Object(p.a)(r,2),n=l[0],i=l[1],d=Object(s.useState)([]),j=Object(p.a)(d,2),m=j[0],b=j[1];return Object(s.useEffect)((function(){f.a.get("/api/orders").then((function(e){console.log(e.data),a(e.data.data)}))}),[]),Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-sm-7",children:[Object(o.jsx)("h4",{className:"p-2 text-center text-white",children:"My Purchased Orders"}),Object(o.jsxs)("table",{className:"table table-bordered table-sm table-light table-hover table-striped",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Id"}),Object(o.jsx)("th",{children:"Order Date"}),Object(o.jsx)("th",{children:"Amount"}),Object(o.jsx)("th",{children:"Customer"}),Object(o.jsx)("th",{children:"Action"})]})}),Object(o.jsx)("tbody",{children:c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.orderid}),Object(o.jsx)("td",{children:Object(o.jsx)(Q.a,{format:"ddd, DD-MMM-YYYY",children:e.orderDate})}),Object(o.jsxs)("td",{children:["\u20b9 ",e.payment.amount]}),Object(o.jsx)("td",{children:e.customer.name}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:function(t){return c=e.orderid,f.a.get("/api/orders/"+c).then((function(e){console.log(e.data),b(e.data.data.details)})),void i(!0);var c},className:"btn btn-primary btn-sm",children:"Show Details"})})]},e.orderid)}))})]})]}),Object(o.jsx)("div",{className:"col-sm-5",children:n?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h4",{className:"p-2",children:"Order Details"}),Object(o.jsxs)("table",{className:"table table-bordered table-light table-hover table-striped table-sm",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Id"}),Object(o.jsx)("th",{children:"Book"}),Object(o.jsx)("th",{children:"Price"}),Object(o.jsx)("th",{children:"Qty"})]})}),Object(o.jsx)("tbody",{children:m.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.book.bookid}),Object(o.jsxs)("td",{children:[Object(o.jsx)("img",{className:"mr-2 float-left",src:"/"+e.book.photo,width:"100"}),e.book.bname,Object(o.jsx)("br",{}),e.book.cat]}),Object(o.jsx)("td",{children:e.book.price}),Object(o.jsx)("td",{children:e.qty})]},e.book.bookid)}))})]})]}):""})]})})};var z=function(){var e=Object(n.c)((function(e){return e})),t=Object(n.b)(),c=Object(j.f)(),a=Object(s.useState)({city:"",state:"Delhi",zip:"12324",country:"India"}),r=Object(p.a)(a,2),l=r[0],i=r[1],d=Object(s.useState)({cardno:"1212444433336666",nameoncard:"Test Name",cvv:"123",amount:e.cart.reduce((function(e,t){return e+t.price}),0)}),m=Object(p.a)(d,2),b=m[0],h=m[1],O=function(e){i(Object(x.a)(Object(x.a)({},l),{},Object(u.a)({},e.target.name,e.target.value)))},g=function(e){h(Object(x.a)(Object(x.a)({},b),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){var t=e.cart.reduce((function(e,t){return e+t.qty*t.price}),0);h(Object(x.a)(Object(x.a)({},b),{},{amount:t})),console.log("Amount => ",t)}),[e.cart]),Object(o.jsx)("div",{className:"container-fluid text-white",children:e.cart.length>0?Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-sm-7",children:[Object(o.jsx)("h4",{className:"p-2",children:"Cart View"}),Object(o.jsxs)("table",{className:"table table-bordered table-light table-striped",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Book Id"}),Object(o.jsx)("th",{children:"Book Name"}),Object(o.jsx)("th",{children:"Price"}),Object(o.jsx)("th",{children:"Qty"}),Object(o.jsx)("th",{children:"Amount"}),Object(o.jsx)("th",{children:"Action"})]})}),Object(o.jsx)("tbody",{children:e.cart.map((function(c){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:c.bookid}),Object(o.jsxs)("td",{children:[Object(o.jsx)("img",{className:"mr-2 float-left",src:"/"+c.photo,width:"100"}),c.bname]}),Object(o.jsxs)("td",{children:["\u20b9 ",c.price]}),Object(o.jsx)("td",{children:c.qty}),Object(o.jsxs)("td",{children:["\u20b9 ",c.qty*c.price]}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:function(s){return function(c){if(window.confirm("Are you sure to delete this item ?")){t({type:"RemoveItem",payload:c});var s=e.cart.reduce((function(e,t){return e+t.qty*t.price}),0);console.log("Amount ",s)}}(c)},className:"btn btn-danger",children:"Delete"})})]},c.bookid)}))}),Object(o.jsx)("tfoot",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{colSpan:"4",children:"Total Amount"}),Object(o.jsxs)("th",{children:["\u20b9 ",e.cart.reduce((function(e,t){return e+t.qty*t.price}),0)]})]})})]})]}),Object(o.jsx)("div",{className:"col-sm-4 bg-white text-dark py-2",children:Object(o.jsxs)("form",{onSubmit:function(s){s.preventDefault();var a=e.cart.reduce((function(e,t){return e+t.qty*t.price}),0);console.log("Amount ",b.amount),h(Object(x.a)(Object(x.a)({},b),{},{amount:a}));var r={cart:e.cart,payment:b,address:l,customerid:sessionStorage.getItem("id")};console.log(r),f.a.post("/api/orders",r).then((function(e){console.log(e),t({type:"Clear"}),c.push("/myorders")}))},children:[Object(o.jsx)("h5",{className:"p-2",children:"Address Information"}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"City"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",name:"city",required:!0,value:l.city,onChange:O,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"State"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",name:"state",required:!0,value:l.state,onChange:O,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Zip"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",name:"zip",required:!0,value:l.zip,onChange:O,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Country"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",name:"country",required:!0,value:l.country,onChange:O,className:"form-control"})})]}),Object(o.jsx)("h5",{className:"p-2",children:"Payment Information"}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Card No"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",name:"cardno",value:b.cardno,onChange:g,className:"form-control",maxLength:"16"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Name on Card"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",name:"nameoncard",value:b.nameoncard,onChange:g,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Expiry Date"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"month",required:!0,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"CVV"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",maxLength:"3",value:b.cvv,onChange:g,className:"form-control"})})]}),Object(o.jsxs)("div",{className:"form-group form-row",children:[Object(o.jsx)("label",{className:"col-sm-4 form-control-label",children:"Billed Amount"}),Object(o.jsx)("div",{className:"col-sm-8",children:Object(o.jsx)("input",{type:"text",maxLength:"3",readOnly:!0,value:b.amount,onChange:g,className:"form-control"})})]}),Object(o.jsx)("button",{className:"btn btn-success float-right",children:"Place Order"})]})})]}):Object(o.jsx)("h4",{children:"Cart is Empty"})})};var V=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(i,{}),Object(o.jsxs)(d.a,{children:[Object(o.jsx)(O,{}),Object(o.jsxs)(j.c,{children:[Object(o.jsx)(j.a,{component:U,path:"/",exact:!0}),Object(o.jsx)(j.a,{component:U,path:"/cats"}),Object(o.jsx)(j.a,{component:v,path:"/register"}),Object(o.jsx)(j.a,{component:w,path:"/alogin"}),Object(o.jsx)(j.a,{component:k,path:"/clogin"}),Object(o.jsx)(j.a,{component:S,path:"/aprofile"}),Object(o.jsx)(j.a,{component:R,path:"/cprofile"}),Object(o.jsx)(j.a,{component:C,path:"/customers"}),Object(o.jsx)(j.a,{component:P,path:"/add-product"}),Object(o.jsx)(j.a,{component:M,path:"/edit/:prodid"}),Object(o.jsx)(j.a,{component:q,path:"/myproducts"}),Object(o.jsx)(j.a,{component:Y,path:"/myorders"}),Object(o.jsx)(j.a,{component:G,path:"/orders"}),Object(o.jsx)(j.a,{component:z,path:"/cart"})]})]})]})},W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,107)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,l=t.getTTFB;c(e),s(e),a(e),r(e),l(e)}))},H=c(29),J=c(43),Z=[],K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AddItem":return console.log(t.payload),[].concat(Object(J.a)(e),[t.payload]);case"RemoveItem":return e=e.filter((function(e){return e.bookid!==t.payload.bookid}));case"Clear":return e=[];default:return e}},X={IsLoggedIn:null!==sessionStorage.getItem("userid"),Username:null===sessionStorage.getItem("uname")?"":sessionStorage.getItem("uname"),Role:null===sessionStorage.getItem("role")?"":sessionStorage.getItem("role")},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IsLoggedIn":return Object(x.a)(Object(x.a)({},e),{},{IsLoggedIn:!0,Username:sessionStorage.getItem("uname"),Role:sessionStorage.getItem("role")});case"LogOut":return sessionStorage.clear(),Object(x.a)(Object(x.a)({},e),{},{IsLoggedIn:!1,Username:"",Role:""});default:return e}},_=Object(H.a)({loggedin:$,cart:K}),ee=Object(H.b)(_);l.a.render(Object(o.jsxs)(a.a.StrictMode,{children:[console.table(ee),Object(o.jsx)(n.a,{store:ee,children:Object(o.jsx)(V,{})})]}),document.getElementById("root")),W()},48:function(e,t,c){},49:function(e,t,c){}},[[106,1,2]]]);
//# sourceMappingURL=main.3e429217.chunk.js.map